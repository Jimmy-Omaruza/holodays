webpackJsonp([1],{"9M+g":function(e,t){},Jmt5:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=i("VU/8")({name:"App"},r,!1,function(e){i("YLn8")},null,null).exports,o=i("/ocq"),l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"home"},[t("router-view")],1)},staticRenderFns:[]},a=i("VU/8")({name:"home",data:function(){return{msg:"Welcome to Your Vue.js App"}}},l,!1,null,null,null).exports,c=i("lHA8"),u=i.n(c),d=i("c/Tr"),m=i.n(d),f={props:{title:{type:String,required:!0},description:{type:String,required:!0},XUrl:{type:String,required:!0},YTUrl:{type:String,required:!0},name:{type:String},date:{type:String}},data:function(){return{isIntersecting:!1}},mounted:function(){var e=this,t=new IntersectionObserver(function(i){i.forEach(function(i){i.isIntersecting&&(e.isIntersecting=!0,t.disconnect())})});t.observe(this.$refs.card)},methods:{removeScriptTags:function(e){return e.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,"")},YT_Change_Width:function(e){return e.replace('width="560"','width="100%"')},openUrl:function(){window.open("https://www.youtube.com/watch?v="+this.YTUrl,"_blank")}}},v={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-card",{ref:"card",staticClass:"mb-3 customer-card",scopedSlots:e._u([{key:"header",fn:function(){return[i("b-card-title",[e._v(e._s(e.date)+e._s("【"+e.name+"】")+e._s(e.title))])]},proxy:!0}])},[e._v(" "),i("b-card-text",[e._v("\n    "+e._s(e.description)+"\n  ")]),e._v(" "),""!=e.XUrl?i("div",{domProps:{innerHTML:e._s(e.removeScriptTags(e.XUrl))}}):e._e(),e._v(" "),""!=e.YTUrl&&e.isIntersecting?i("div",[i("img",{staticStyle:{width:"480px",cursor:"pointer"},attrs:{src:"https://i.ytimg.com/vi/"+e.YTUrl+"/maxresdefault.jpg"},on:{click:e.openUrl}})]):e._e()],1)},staticRenderFns:[]};var p=i("VU/8")(f,v,!1,function(e){i("PZoB")},"data-v-5c7187a9",null).exports,h=i("O4Lo"),_=i.n(h),b={components:{VideoCard:p},data:function(){return{items:[],items2:[],visibleCount:5,incrementCount:5,memberList:[],TypeList:[],member_filter_value:"All",Type_filter_value:"All"}},mounted:function(){window.addEventListener("scroll",_()(this.handleScroll,100)),this.handleScroll(),this.fetchData()},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll)},computed:{filteredItems:function(){var e=this;return this.items&&0!==this.items.length?this.items.filter(function(t){var i="All"===e.member_filter_value||t[1]===e.member_filter_value||void 0!==t[8]&&t[8].includes(e.member_filter_value),n="All"===e.Type_filter_value||t[6]===e.Type_filter_value;return i&&n}):[]}},methods:{handleScroll:function(){window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-10&&this.loadMoreItems(),this.checkCardsInView()},checkCardsInView:function(){var e=this;document.querySelectorAll(".fade-card").forEach(function(t,i){e.isInView(t),t.classList.add("fade-in")})},isInView:function(e){if(e&&"function"==typeof e.getBoundingClientRect){var t=e.getBoundingClientRect(),i=window.innerHeight;return t.top<i&&t.bottom>0}return!1},loadMoreItems:function(){var e=this,t=this.filteredItems.slice(this.items2.length,this.items2.length+this.incrementCount);this.items2=this.items2.concat(t),this.$nextTick(function(){e.checkCardsInView()})},fetchData:function(){var e=this,t="https://sheets.googleapis.com/v4/spreadsheets/1LabA8DvW7vPkWRpJNQi8omc_HGgxpnuvyCbsdnJx7IQ/values/Table1?key="+this.customBase64Decode(this.$sheet_api);this.$axios.get(t).then(function(t){var i=t.data.values;i.splice(0,1),e.items=i,e.memberList=e.getUniqueValues(e.items,1),e.TypeList=e.getUniqueValues(e.items,6),e.remove(e.memberList,""),e.remove(e.memberList,void 0),e.remove(e.TypeList,""),e.remove(e.TypeList,void 0),e.items2=e.filteredItems.slice(0,e.visibleCount)}).catch(function(e){console.error("Error fetching data:",e)})},filter:function(){document.documentElement.scrollTop=0,document.body.scrollTop=0,this.items2=this.filteredItems.slice(0,this.visibleCount)},getUniqueValues:function(e,t){return m()(new u.a(e.map(function(e){return e[t]}).filter(Boolean)))},remove:function(e,t){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}},g={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"timeline-container"},[i("b-container",{staticClass:"container_background",attrs:{fluid:""}},[i("div",{staticClass:"col-12 row m-0 fixed-top",staticStyle:{"background-color":"#ffa0eb"}},[i("b-form-select",{staticClass:"col-6 col-lg-4",on:{change:e.filter},model:{value:e.member_filter_value,callback:function(t){e.member_filter_value=t},expression:"member_filter_value"}},[i("b-form-select-option",{attrs:{value:"All"}},[e._v("\n          全部\n        ")]),e._v(" "),e._l(e.memberList,function(t,n){return i("b-form-select-option",{key:n,attrs:{value:t}},[e._v("\n          "+e._s(t)+"\n        ")])})],2),e._v(" "),i("b-form-select",{staticClass:"col-6 col-lg-4",on:{change:e.filter},model:{value:e.Type_filter_value,callback:function(t){e.Type_filter_value=t},expression:"Type_filter_value"}},[i("b-form-select-option",{attrs:{value:"All"}},[e._v("\n          全部\n        ")]),e._v(" "),e._l(e.TypeList,function(t,n){return i("b-form-select-option",{key:n,attrs:{value:t}},[e._v("\n          "+e._s(t)+"\n        ")])})],2)],1),e._v(" "),e._l(e.items2,function(t,n){return i("b-row",{key:n,staticClass:"timeline-row"},[i("b-col",{staticClass:"timeline-left",attrs:{cols:"12",lg:"6"}},[n%2==0?i("VideoCard",{staticClass:"fade-card",class:{"fade-in":e.isInView(n)||n<e.visibleCount},attrs:{title:void 0===t[2]?"":t[2],description:void 0===t[3]?"":t[3],XUrl:void 0===t[4]?"":t[4],YTUrl:void 0===t[5]?"":t[5],name:void 0===t[1]?"":t[1],date:void 0===t[0]?"":t[0]}}):e._e()],1),e._v(" "),i("b-col",{staticClass:"timeline-right",attrs:{cols:"12",lg:"6"}},[n%2!=0?i("VideoCard",{staticClass:"fade-card",class:{"fade-in":e.isInView(n)||n<e.visibleCount},attrs:{title:void 0===t[2]?"":t[2],description:void 0===t[3]?"":t[3],XUrl:void 0===t[4]?"":t[4],YTUrl:void 0===t[5]?"":t[5],name:void 0===t[1]?"":t[1],date:void 0===t[0]?"":t[0]}}):e._e()],1)],1)})],2)],1)},staticRenderFns:[]};var w=i("VU/8")(b,g,!1,function(e){i("eCZI")},"data-v-3294c03e",null).exports;n.default.use(o.a);var y=new o.a({base:"/holodays",mode:"history",routes:[{path:"/",redirect:"/Timeline"},{path:"/Home",name:"Home",component:a,children:[{path:"/Timeline",name:"Timeline",component:w}]}]}),C=i("Tqaz"),T=(i("Jmt5"),i("9M+g"),i("Gu7T")),U=i.n(T),I={methods:{customBase64Encode:function(e){var t=btoa(e);return this.replaceChars(t,{A:"!",B:"@",C:"#"})},customBase64Decode:function(e){var t=this.replaceChars(e,{"!":"A","@":"B","#":"C"});return atob(t)},replaceChars:function(e,t){return e.split("").map(function(e){return t[e]||e}).join("")},getUniqueValues:function(e,t){return[].concat(U()(new u.a(e.map(function(e){return e[t]}))))}}},V=i("mtWM");n.default.config.productionTip=!1,n.default.use(C.a),n.default.mixin(I),n.default.prototype.$sheet_api="QUl6YVN5REpMMkRxbmJna1R4MVlmdkp3bTRkR0g1WTFmbEZwd3@Z",n.default.prototype.$axios=V.a,new n.default({el:"#app",router:y,components:{App:s},template:"<App/>"})},PZoB:function(e,t){},YLn8:function(e,t){},eCZI:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ebc102e5c5e9aca367dd.js.map